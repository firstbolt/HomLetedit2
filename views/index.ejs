<%- include('partials/header') %>

<!-- Hero Section with Video Background -->
<section class="hero">
    <video autoplay muted loop class="hero-video" id="heroVideo">
        <source src="/img/LAGOS NIGERIA - 4K DRONE VIDEO - Victoria Island, Lagos Island & Eko atlantic city (2019).mp4" type="video/mp4">
        <source src="/img/LAGOS NIGERIA - 4K DRONE VIDEO - Victoria Island, Lagos Island & Eko atlantic city (2019).mp4" type="video/mp4">
        <!-- Fallback for browsers that don't support video -->
        Your browser does not support the video tag.
    </video>
    
    <div class="container">
        <h1>Find Your Perfect Home</h1>
        <p>Connect with trusted real estate agents and discover your dream property with HomLet</p>
        <div class="hero-buttons">
            <a href="/houses" class="btn btn-primary btn-lg">üè† Find a House</a>
            <a href="/auth/agent-register" class="btn btn-secondary btn-lg">Become an Agent</a>
        </div>
    </div>
</section>

<!-- Features Section -->
<section style="padding: 4rem 0;">
    <div class="container">
        <div style="text-align: center; margin-bottom: 3rem;">
            <h2 style="font-size: 2.5rem; margin-bottom: 1rem; color: #667eea;">What is HomLet?</h2>
            <p style="font-size: 1.25rem; color: rgba(255, 255, 255, 0.8); max-width: 600px; margin: 0 auto;">
                HomLet is a revolutionary platform that connects property seekers with verified real estate agents. 
                We make it easy to find your perfect home while ensuring agents get fair compensation.
            </p>
        </div>
        
        <div class="grid grid-3">
            <div class="card text-center">
                <div style="font-size: 3rem; margin-bottom: 1rem;">üè°</div>
                <h3 style="font-size: 1.5rem; margin-bottom: 1rem; color: #667eea;">Browse Properties</h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Explore thousands of properties with detailed photos and videos from verified agents</p>
            </div>
            
            <div class="card text-center">
                <div style="font-size: 3rem; margin-bottom: 1rem;">üë•</div>
                <h3 style="font-size: 1.5rem; margin-bottom: 1rem; color: #667eea;">Connect with Agents</h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Get direct access to verified real estate professionals instantly</p>
            </div>
            
            <div class="card text-center">
                <div style="font-size: 3rem; margin-bottom: 1rem;">üí∞</div>
                <h3 style="font-size: 1.5rem; margin-bottom: 1rem; color: #667eea;">Secure Platform</h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Safe and secure platform with verified agents and transparent processes</p>
            </div>
        </div>
    </div>
</section>

<!-- Featured Properties -->
<% if (typeof featuredProperties !== 'undefined' && featuredProperties && featuredProperties.length > 0) { %>
<section style="padding: 4rem 0; background: rgba(255, 255, 255, 0.02); border-radius: 20px; margin: 2rem;">
    <div class="container">
        <div style="text-align: center; margin-bottom: 3rem;">
            <h2 style="font-size: 2.5rem; margin-bottom: 1rem; color: #667eea;">Featured Properties</h2>
            <p style="font-size: 1.25rem; color: rgba(255, 255, 255, 0.8);">Discover some of our most popular listings</p>
        </div>
        
        <div class="grid grid-3">
            <% featuredProperties.forEach(property => { %>
                <div class="property-card">
                    <div class="property-image-container">
                        <img src="/uploads/properties/<%= property.images[0] %>" alt="<%= property.title %>">
                        <div class="property-badge">
                            <%= property.propertyType === 'rent' ? 'For Rent' : 'For Sale' %>
                        </div>
                        <div class="property-views">
                            üëÅÔ∏è <%= property.views %> views
                        </div>
                    </div>
                    <div class="property-card-content">
                        <h3 class="property-title"><%= property.title %></h3>
                        <p class="property-location">üìç <%= property.location.area %>, <%= property.location.state %></p>
                        <p class="property-price">‚Ç¶<%= property.price.toLocaleString() %></p>
                        <p class="property-description"><%= property.description.substring(0, 100) %>...</p>
                        <a href="/property/<%= property._id %>" class="btn btn-primary w-full">View Details</a>
                    </div>
                </div>
            <% }); %>
        </div>
        
        <div class="text-center mt-4">
            <a href="/houses" class="btn btn-primary btn-lg">View All Properties</a>
        </div>
    </div>
</section>
<% } %>

<!-- How It Works Section -->
<section style="padding: 4rem 0;">
    <div class="container">
        <div style="text-align: center; margin-bottom: 3rem;">
            <h2 style="font-size: 2.5rem; margin-bottom: 1rem; color: #667eea;">How HomLet Works</h2>
            <p style="font-size: 1.25rem; color: rgba(255, 255, 255, 0.8);">Simple steps to find your perfect property</p>
        </div>
        
        <div class="grid grid-3">
            <div class="card text-center">
                <div style="font-size: 3rem; margin-bottom: 1rem;">1Ô∏è‚É£</div>
                <h3 style="font-size: 1.25rem; margin-bottom: 1rem; color: #ffffff;">Browse Properties</h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Search through thousands of verified property listings with photos and videos</p>
            </div>
            
            <div class="card text-center">
                <div style="font-size: 3rem; margin-bottom: 1rem;">2Ô∏è‚É£</div>
                <h3 style="font-size: 1.25rem; margin-bottom: 1rem; color: #ffffff;">Contact Agent Directly</h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Connect directly with verified agents to get more information</p>
            </div>
            
            <div class="card text-center">
                <div style="font-size: 3rem; margin-bottom: 1rem;">3Ô∏è‚É£</div>
                <h3 style="font-size: 1.25rem; margin-bottom: 1rem; color: #ffffff;">Close Your Deal</h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Work with the agent to finalize your property deal</p>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section style="padding: 4rem 0; background: linear-gradient(45deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1)); margin: 2rem; border-radius: 20px;">
    <div class="container text-center">
        <h2 style="font-size: 2.5rem; margin-bottom: 1rem; color: #667eea;">Ready to Find Your Dream Home?</h2>
        <p style="font-size: 1.25rem; margin-bottom: 2rem; color: rgba(255, 255, 255, 0.8);">Join thousands of satisfied customers who found their perfect property through HomLet</p>
        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
            <a href="/auth/client-register" class="btn btn-primary btn-lg">Get Started as Client</a>
            <a href="/auth/agent-register" class="btn btn-secondary btn-lg">Join as Agent</a>
        </div>
    </div>
</section>

<script>
// Welcome voice message
document.addEventListener('DOMContentLoaded', function() {
    // Play welcome message for all visitors
    setTimeout(() => {
        // Create and play welcome message
        const welcomeMessage = new SpeechSynthesisUtterance('Welcome to HomLet! Connect with trusted real estate agents and discover your dream property with HomLet.');
        welcomeMessage.rate = 0.8;
        welcomeMessage.pitch = 1;
        welcomeMessage.volume = 0.8;
        
        // Use a pleasant voice if available
        const voices = speechSynthesis.getVoices();
        const femaleVoice = voices.find(voice => voice.name.includes('Female') || voice.name.includes('Samantha') || voice.name.includes('Karen'));
        if (femaleVoice) {
            welcomeMessage.voice = femaleVoice;
        }
        
        speechSynthesis.speak(welcomeMessage);
    }, 2000); // Delay to ensure page is fully loaded
});

// Fallback video sources
document.addEventListener('DOMContentLoaded', function() {
    const heroVideo = document.getElementById('heroVideo');
    
    // If video fails to load, use a fallback
    heroVideo.addEventListener('error', function() {
        // Create a fallback with CSS gradient animation
        heroVideo.style.display = 'none';
        const hero = document.querySelector('.hero');
        hero.style.background = 'linear-gradient(-45deg, #667eea, #764ba2, #51cf66, #40c057)';
        hero.style.backgroundSize = '400% 400%';
        hero.style.animation = 'gradientShift 15s ease infinite';
        
        // Add the animation keyframes
        const style = document.createElement('style');
        style.textContent = `
            @keyframes gradientShift {
                0% { background-position: 0% 50%; }
                50% { background-position: 100% 50%; }
                100% { background-position: 0% 50%; }
            }
        `;
        document.head.appendChild(style);
    });
});
</script>

<%- include('partials/footer') %>